<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="早餐店前台 POS：高速點餐、掛單、復單、即時出單。" />
  <link rel="canonical" href="https://081-system.zeabur.app/pos" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="早餐店系統" />
  <meta property="og:url" content="https://081-system.zeabur.app/pos" />
  <meta property="og:title" content="早餐店前台 POS" />
  <meta property="og:description" content="高速點餐、掛單、復單、即時出單。" />
  <meta property="og:image" content="https://081-system.zeabur.app/assets/og-cover.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="早餐店前台 POS" />
  <meta name="twitter:description" content="高速點餐、掛單、復單、即時出單。" />
  <meta name="twitter:image" content="https://081-system.zeabur.app/assets/og-cover.png" />
  <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
  <title>早餐店前台 POS</title>
  <link rel="stylesheet" href="/shared/theme.css" />
  <link rel="stylesheet" href="/pos/styles.css?v=20260215r7" />
</head>
<body>
  <div class="pos-shell">
    <header class="topbar" role="banner">
      <div class="top-left">
        <p class="eyebrow">Front Counter POS</p>
        <h1>早餐店前台 POS</h1>
        <div class="store-meta">
          <span class="meta-pill time-pill"><span class="meta-label">台灣時間</span><strong id="bizTime">--:--</strong></span>
          <span class="meta-pill">尖峰 07:00-09:30</span>
          <span class="meta-pill">UI v2026.02.15-r7</span>
        </div>
      </div>

      <div class="top-center">
        <label class="search-wrap" for="menuSearch">
          <span class="search-icon" aria-hidden="true">⌕</span>
          <input id="menuSearch" type="search" placeholder="搜尋品項（/）" autocomplete="off" />
          <span class="search-hotkey" aria-hidden="true">/</span>
        </label>
      </div>

      <div class="top-right">
        <div class="action-strip">
          <button id="newOrderBtn" class="ghost-btn" type="button" title="F1">新單</button>
          <button id="holdOrderBtn" class="ghost-btn" type="button" title="F2">掛單</button>
          <button id="peakModeToggle" class="ghost-btn" type="button">尖峰模式：關</button>
          <a class="portal-link" href="/">入口</a>
        </div>
      </div>
    </header>

    <main class="workspace" role="main">
      <section class="left-column" aria-label="菜單區">
        <section class="panel combo-panel">
          <div class="panel-head">
            <h2>套餐快選</h2>
            <span class="sub">常用套餐可直接展開客製內容</span>
          </div>
          <div id="comboQuickSection" class="combo-quick"></div>
        </section>

        <section class="panel menu-panel">
          <div class="panel-head menu-head">
            <h2>菜單</h2>
            <span class="sub">分類瀏覽或搜尋後，點擊 +1 快速加入</span>
          </div>
          <div class="category-wrap">
            <div id="menuCategoryBar" class="menu-category-bar"></div>
          </div>
          <div class="menu-grid-wrap">
            <div id="menuGrid" class="menu-grid" aria-live="polite"></div>
          </div>
        </section>
      </section>

      <aside class="right-column" aria-label="訂單區">
        <section class="panel order-panel">
          <div class="panel-head order-panel-head">
            <h2>訂單工作台</h2>
            <div id="orderTabs" class="tabs" role="tablist" aria-label="訂單分頁">
              <button class="tab-btn active" data-tab="current" role="tab" aria-selected="true">目前訂單 <span id="currentCount" class="badge-pill">0</span></button>
              <button class="tab-btn" data-tab="held" role="tab" aria-selected="false">掛單 <span id="heldCount" class="badge-pill">0</span></button>
              <button class="tab-btn" data-tab="recent" role="tab" aria-selected="false">最近訂單 <span id="recentCount" class="badge-pill">0</span></button>
            </div>
          </div>

          <div id="tabCurrent" class="tab-panel active" role="tabpanel">
            <div class="field-grid">
              <label class="field">
                訂單來源
                <select id="sourceSelect">
                  <option value="takeout">外帶</option>
                  <option value="dine_in">內用</option>
                  <option value="delivery">外送</option>
                </select>
              </label>
              <label class="field">
                付款方式
                <select id="paymentMethodSelect">
                  <option value="cash">現金</option>
                  <option value="line_pay">Line Pay</option>
                  <option value="credit_card">信用卡</option>
                  <option value="easycard">悠遊卡</option>
                  <option value="other">其他</option>
                </select>
              </label>
            </div>

            <div class="cart-wrap">
              <ul id="cartList" class="cart-list"></ul>
            </div>

            <div class="summary-box">
              <div class="summary-row">
                <span>總金額</span>
                <strong>$<span id="total">0</span></strong>
              </div>
            </div>

            <div class="cta-row">
              <button id="submitOrderBtn" class="primary-btn" type="button">出單並收款</button>
              <button id="clearOrderBtn" class="danger-btn" type="button">清空</button>
            </div>
            <p id="message" class="message" aria-live="polite"></p>
          </div>

          <div id="tabHeld" class="tab-panel" role="tabpanel" hidden>
            <div id="heldOrders" class="held-orders"></div>
          </div>

          <div id="tabRecent" class="tab-panel" role="tabpanel" hidden>
            <div id="orders" class="orders"></div>
          </div>
        </section>
      </aside>
    </main>
  </div>

  <div id="comboModal" class="combo-modal" aria-hidden="true">
    <div class="combo-modal-backdrop" data-close-combo-modal="1"></div>
    <section class="combo-modal-panel" role="dialog" aria-modal="true" aria-labelledby="comboModalTitle">
      <header class="combo-modal-head">
        <h3 id="comboModalTitle">套餐客製</h3>
        <button id="comboModalClose" class="combo-modal-close" type="button" aria-label="關閉">×</button>
      </header>
      <div id="comboModalBody" class="combo-modal-body"></div>
      <footer class="combo-modal-foot">
        <button id="comboModalCancel" class="combo-modal-cancel" type="button">取消</button>
        <button id="comboModalConfirm" class="combo-modal-confirm" type="button">加入訂單</button>
      </footer>
    </section>
  </div>

  <script src="/shared/auth.js?v=20260215r7"></script>
  <script src="/pos/app.js?v=20260215r7"></script>
</body>
</html>
